function GenerateInnerRow(e){function r(){for(var r=0,d="";r!=e;)d+="<div></div>",r+=1;return d}var d=document.createDocumentFragment(),t=document.createElement("div");for(t.innerHTML=r();t.firstChild;)d.appendChild(t.firstChild);return d}function GenerateRow(e){var r=document.createDocumentFragment(),d=document.createElement("div");for(d.innerHTML="<div></div>";d.firstChild;)r.appendChild(d.firstChild);r.childNodes[0].appendChild(GenerateInnerRow(e)),grid.insertBefore(r,grid.childNodes[0])}function GenerateGrid(e){var r=0;for(cell_highlighted=e.cell_highlighted,grid_width=e.colums;r!=e.rows;)r+=1,GenerateRow(e.colums);cell_default_background=getDefaultCellBackground()}function getDefaultCellBackground(){var e=grid.childNodes,r=e[0],d=r.childNodes[0];if(void 0!=d){var t=getComputedStyle(d,null).getPropertyValue("background-color");return t}return"green"}var grid=document.getElementById("Pixel-Grid"),cell_highlighted="red",cell_default_background="green",grid_width=0;

function findLetter(t,e){var i=e.toLowerCase(),n=t,o=n[0],r=n[1];return"a"==i?{points:[[o+1,r],[o+2,r],[o+3,r],[o,r+1],[o,r+2],[o,r+3],[o,r+4],[o,r+5],[o+4,r+1],[o+4,r+2],[o+4,r+3],[o+4,r+4],[o+4,r+5],[o+1,r+3],[o+2,r+3],[o+3,r+3]],letter_width:5}:"b"==i?{points:[n,[o+1,r],[o+2,r],[o+3,r+1],[o+3,r+2],[o+2,r+3],[o+3,r+4],[o+3,r+5],[o+2,r+5],[o+1,r+5],[o,r+5],[o,r+4],[o,r+3],[o,r+2],[o,r+1]],letter_width:4}:"c"==i?{points:[n,[o+1,r],[o+2,r],[o+3,r],[o,r+1],[o,r+2],[o,r+3],[o,r+4],[o,r+5],[o+1,r+5],[o+2,r+5],[o+3,r+5]],letter_width:4}:"d"==i?{points:[n,[o,r+1],[o,r+2],[o,r+3],[o,r+4],[o,r+5],[o+1,r+5],[o+2,r+5],[o+3,r+5],[o+4,r+4],[o+4,r+3],[o+4,r+2],[o+4,r+1],[o+3,r],[o+2,r],[o+1,r]],letter_width:5}:"e"==i?{points:[n,[o,r+1],[o,r+2],[o,r+3],[o,r+4],[o,r+5],[o+1,r],[o+2,r],[o+3,r],[o+1,r+3],[o+2,r+3],[o+1,r+5],[o+2,r+5],[o+3,r+5]],letter_width:4}:"f"==i?{points:[n,[o,r+1],[o,r+2],[o,r+3],[o,r+4],[o,r+5],[o+1,r],[o+2,r],[o+3,r],[o+1,r+3],[o+2,r+3]],letter_width:4}:"g"==i?{points:[[o,r+1],[o,r+2],[o,r+3],[o,r+4],[o+1,r+5],[o+2,r+5],[o+3,r+5],[o+4,r+4],[o+4,r+3],[o+3,r+3],[o+1,r],[o+2,r],[o+3,r]],letter_width:5}:"h"==i?{points:[n,[o,r+1],[o,r+2],[o,r+3],[o,r+4],[o,r+5],[o+1,r+3],[o+2,r+3],[o+3,r+3],[o+4,r],[o+4,r+1],[o+4,r+2],[o+4,r+3],[o+4,r+4],[o+4,r+5]],letter_width:5}:"i"==i?{points:[n,[o,r+2],[o,r+3],[o,r+4],[o,r+5]],letter_width:1}:"j"==i?{points:[[o+3,r],[o+3,r+1],[o+3,r+2],[o+3,r+3],[o+3,r+4],[o+2,r+5],[o+1,r+5],[o,r+4]],letter_width:4}:"k"==i?{points:[n,[o,r+1],[o,r+2],[o,r+3],[o,r+4],[o,r+5],[o+1,r+3],[o+2,r+2],[o+3,r+1],[o+2,r+4],[o+3,r+5]],letter_width:4}:"l"==i?{points:[n,[o,r+1],[o,r+2],[o,r+3],[o,r+4],[o,r+5],[o+1,r+5],[o+2,r+5],[o+3,r+5]],letter_width:4}:"m"==i?{points:[n,[o,r+1],[o,r+2],[o,r+3],[o,r+4],[o,r+5],[o+1,r+1],[o+2,r+2],[o+3,r+2],[o+4,r+1],[o+5,r],[o+5,r+1],[o+5,r+2],[o+5,r+3],[o+5,r+4],[o+5,r+5]],letter_width:6}:"n"==i?{points:[n,[o,r+1],[o,r+2],[o,r+3],[o,r+4],[o,r+5],[o+1,r+1],[o+2,r+2],[o+2,r+3],[o+3,r+4],[o+4,r],[o+4,r+1],[o+4,r+2],[o+4,r+3],[o+4,r+4],[o+4,r+5]],letter_width:5}:"o"==i?{points:[n,[o,r+1],[o,r+2],[o,r+3],[o,r+4],[o,r+5],[o+1,r+5],[o+2,r+5],[o+3,r+5],[o+4,r+5],[o+4,r],[o+4,r+1],[o+4,r+2],[o+4,r+3],[o+4,r+4],[o+1,r],[o+2,r],[o+3,r]],letter_width:5}:"p"==i?{points:[n,[o,r+1],[o,r+2],[o,r+3],[o,r+4],[o,r+5],[o+1,r],[o+2,r],[o+3,r],[o+3,r+1],[o+3,r+2],[o+3,r+2],[o+3,r+3],[o+2,r+3],[o+1,r+3]],letter_width:4}:"q"==i?{points:[[o,r+1],[o,r+2],[o,r+3],[o,r+4],[o+1,r],[o+2,r],[o+3,r],[o+4,r+1],[o+4,r+2],[o+4,r+3],[o+4,r+4],[o+4,r+5],[o+3,r+5],[o+3,r+4],[o+2,r+5],[o+1,r+5]],letter_width:5}:"r"==i?{points:[n,[o,r+1],[o,r+2],[o,r+3],[o,r+4],[o,r+5],[o+1,r],[o+2,r],[o+3,r+1],[o+3,r+2],[o+3,r+2],[o+2,r+3],[o+1,r+3],[o+2,r+4],[o+3,r+5]],letter_width:4}:"s"==i?{points:[[o,r+4],[o+1,r+5],[o+2,r+5],[o+3,r+5],[o+4,r+4],[o+4,r+3],[o+3,r+2],[o+2,r+2],[o+1,r+2],[o,r+1],[o+1,r],[o+2,r],[o+3,r]],letter_width:5}:"t"==i?{points:[n,[o+1,r],[o+2,r],[o+3,r],[o+4,r],[o+2,r+1],[o+2,r+2],[o+2,r+3],[o+2,r+4],[o+2,r+4],[o+2,r+5]],letter_width:5}:"u"==i?{points:[n,[o,r+1],[o,r+2],[o,r+3],[o,r+4],[o+1,r+5],[o+2,r+5],[o+3,r+5],[o+4,r+4],[o+4,r+3],[o+4,r+2],[o+4,r+1],[o+4,r]],letter_width:5}:"v"==i?{points:[n,[o,r+1],[o,r+2],[o+1,r+3],[o+1,r+4],[o+2,r+5],[o+3,r+4],[o+3,r+3],[o+4,r+2],[o+4,r+1],[o+4,r]],letter_width:5}:"w"==i?{points:[n,[o,r+1],[o,r+2],[o+1,r+3],[o+1,r+4],[o+2,r+5],[o+3,r+4],[o+3,r+3],[o+4,r+5],[o+5,r+4],[o+5,r+3],[o+6,r+2],[o+6,r+1],[o+6,r]],letter_width:7}:"x"==i?{points:[n,[o+1,r+1],[o+2,r+2],[o+3,r+1],[o+4,r],[o+2,r+3],[o+1,r+4],[o,r+5],[o,r+5],[o+3,r+4],[o+4,r+5],[o+3,r+5],[o+1,r+5],[o,r+1],[o+4,r+1]],letter_width:5}:"y"==i?{points:[n,[o,r+1],[o+1,r+2],[o+2,r+3],[o+3,r+2],[o+4,r+1],[o+4,r],[o+2,r+4],[o+2,r+5]],letter_width:5}:"z"==i?{points:[n,[o+1,r],[o+2,r],[o+3,r],[o+3,r+1],[o+2,r+2],[o+1,r+3],[o,r+4],[o,r+5],[o+1,r+5],[o+2,r+5],[o+3,r+5]],letter_width:4}:findSymbol(t,i)==[]?[]:findSymbol(t,i)}function findSymbol(t,e){var i=e.toLowerCase(),n=t,o=n[0],r=n[1];return"."==i?{points:[[o,r+5]],letter_width:1}:"-"==i?{points:[[o,r+3],[o+1,r+3],[o+2,r+3]],letter_width:3}:{points:[[o,r+3],[o+1,r+3],[o+2,r+3]],letter_width:3}}


function drawLetterAtXY(t,r,e){for(var r=findLetter(t,r),d=r.points,i=0;i<d.length;i++){var a=r.points[i],l=grid.childNodes,o=l[a[1]-1],n=o.childNodes[a[0]-1];void 0!=n&&(n.style.backgroundColor=e)}}function drawWord(t,r,e){var d=[t],r=r.split(""),i="red";i=void 0==e?cell_highlighted:e;for(var a=0;a<r.length;a++){var l=r[a];if(0==a){drawLetterAtXY(t,l,i);var o=findLetter(t,l),n=o.letter_width;d.push([t[0]+n+1,t[1]])}else{var h=d[d.length-1];CalculateWordWidth(d)<grid_width&&drawLetterAtXY(h,l,i);var o=findLetter(h,l),n=o.letter_width;d.push([h[0]+n+1,h[1]])}}}function UnDrawWord(t,r){drawWord(t,r,cell_default_background)}function CalculateWordWidth(t){for(var r=0,e=0;e<t.length;e++){var d=t[e];r+=d[0]-r}return r+1}
